<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Scrubber</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="MainMenu">
		<h1 style="margin-bottom: 0px;">ScrubV - Online Video Scrubber</h1>
		<p>Video processing is client sided, not server sided.</p>
		<div>
			<h3><marquee>WIP Tool (Work in Progress)</marquee></h3>
			<span class="dev-badge">Build v0.4 - 5th April 2025.</span>
			<p>Tool is not perfect, development still on-going. This project is not a high priority.</p>
			<li>Resizing the window may lead to unexpected behaviours.</li>
			<li>Short videos for best results when scrubbing</li>
		</div>

		<div class="button-container">
			<label for="frameRateSelect" style="margin-right: 8px;">Frame Rate:</label>
			<button id="btn15" data-selected="false" onclick="HandleFPSRate(15);">15</button>
			<button id="btn30" data-selected="true" onclick="HandleFPSRate(30);">30</button>
			<button id="btn60" data-selected="false" onclick="HandleFPSRate(60);">60</button>
		</div>
		
		<div class="file-drag-drop"
			onclick="this.querySelector('#videoInput').click();">
			<div class="file-overlay">Drop file here or click to browse</div>
			<input type="file" id="videoInput" accept="video/*" style="display: none;">
		</div>
	</div>
  
	<!-- style: Lazy simple way to allow refreshes to start at the beginning -->
	<div id="videoContainer" style="display:none;position:relative;">
		<div id="titleBar">
			<p id="videoName">Buffering Video... Please Wait</p>
			<div id="videoReset" style="display:none;margin-top: 4px;">
				<a class="icontext" onclick="ResetToMainMenu()">	
					<svg width="18" height="18" viewBox="0 0 256 256"><path d="M25 2a2 2 0 1 0 0 4c10.517 0 19 8.483 19 19s-8.483 19-19 19A18.97 18.97 0 0 1 6 25a18.93 18.93 0 0 1 6-13.855V15a2 2 0 1 0 4 0V4H5a2 2 0 1 0 0 4h4.525C4.907 12.21 2 18.272 2 25c0 12.679 10.321 23 23 23s23-10.321 23-23S37.679 2 25 2" transform="scale(5.12)" fill="#fff" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode:normal"/></svg>
					Reset Video
				</a>
				<a id="recordState" class="icontext" onclick="ToggleRecordState()">
					<svg width="18" height="18" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"><circle style="stroke:#000;fill:#ef7575;stroke-width:5px" cx="128" cy="128" r="115.033"/></svg>
					Record Scrub
				</a>
			</div>	
		</div>
        <canvas id="canvas"></canvas>
        <div id="scrubber"></div>
        <div id="overlay">Buffering...</div>
    </div>
    
	<script src="scrubFlow.js"></script>
	<script src="recordFlow.js"></script>
	<script src="uiFunc.js"></script>
</body>
</html>